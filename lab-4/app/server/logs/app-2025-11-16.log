{"level":"info","message":"Успешное подключение к MongoDB","timestamp":"2025-11-16T18:23:24.760Z"}
{"level":"info","message":"Сервер запущен на http://localhost:5000","timestamp":"2025-11-16T18:23:24.767Z"}
{"level":"info","message":"Успешное подключение к MongoDB","timestamp":"2025-11-16T18:31:21.065Z"}
{"level":"info","message":"Сервер запущен на http://localhost:5000","timestamp":"2025-11-16T18:31:21.073Z"}
{"level":"error","message":"Ошибка валидации данных","method":"POST","path":"/api/auth/register","stack":"Error: Ошибка валидации данных\n    at handleValidation (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:24:11)\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:39:5\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\utils\\asyncHandler.js:3:19\n    at Layer.handleRequest (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-11-16T18:38:55.084Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:38:55 +0000] \"POST /api/auth/register HTTP/1.1\" 400 441 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:38:55.102Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:41:59 +0000] \"POST /api/auth/register HTTP/1.1\" 201 70 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:41:59.285Z"}
{"level":"error","message":"Ошибка валидации данных","method":"POST","path":"/api/auth/register","stack":"Error: Ошибка валидации данных\n    at handleValidation (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:24:11)\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:39:5\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\utils\\asyncHandler.js:3:19\n    at Layer.handleRequest (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)","statusCode":400,"timestamp":"2025-11-16T18:42:54.738Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:42:54 +0000] \"POST /api/auth/register HTTP/1.1\" 400 404 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:42:54.746Z"}
{"level":"error","message":"Неверный пароль","method":"POST","path":"/api/auth/login","stack":"Error: Неверный пароль\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:84:13","statusCode":400,"timestamp":"2025-11-16T18:45:10.308Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:45:10 +0000] \"POST /api/auth/login HTTP/1.1\" 400 60 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:45:10.315Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:46:05 +0000] \"POST /api/auth/login HTTP/1.1\" 200 444 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:46:05.879Z"}
{"level":"error","message":"Нет токена, доступ запрещён","method":"GET","path":"/api/auth/profile","stack":"Error: Нет токена, доступ запрещён\n    at authMiddleware (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\middleware\\auth.js:8:17)\n    at Layer.handleRequest (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\index.js:582:12)\n    at next (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\index.js:291:5)\n    at Function.handle (D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\node_modules\\router\\index.js:186:3)","statusCode":401,"timestamp":"2025-11-16T18:47:10.466Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:47:10 +0000] \"GET /api/auth/profile HTTP/1.1\" 401 81 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:47:10.475Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:49:31 +0000] \"GET /api/auth/profile HTTP/1.1\" 200 238 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:49:31.435Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:50:48 +0000] \"GET /api/auth/generate-2fa HTTP/1.1\" 200 3194 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:50:48.681Z"}
{"level":"error","message":"Пользователь уже существует","method":"POST","path":"/api/auth/register","stack":"Error: Пользователь уже существует\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:45:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","statusCode":400,"timestamp":"2025-11-16T18:53:55.602Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:18:53:55 +0000] \"POST /api/auth/register HTTP/1.1\" 400 83 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T18:53:55.610Z"}
{"level":"error","message":"Неверный пароль","method":"POST","path":"/api/auth/login","stack":"Error: Неверный пароль\n    at D:\\university\\curs-3\\NODE\\node.js\\lab-4\\app\\server\\routes\\auth.js:84:13","statusCode":400,"timestamp":"2025-11-16T20:10:34.096Z"}
{"level":"info","message":"::1 - - [16/Nov/2025:20:10:34 +0000] \"POST /api/auth/login HTTP/1.1\" 400 60 \"-\" \"PostmanRuntime/7.49.0\"","timestamp":"2025-11-16T20:10:34.099Z"}
